#### ë‚ ì§œ: 2024-05-24

<br/>

### ğŸŒ¤ï¸ ìŠ¤í¬ëŸ¼

- í•™ìŠµ ëª©í‘œ 1 : Java `Null`

<br/>

### âš¡ï¸ ìƒˆë¡œ ë°°ìš´ ë‚´ìš©

#### [JAVA] Null

ê°’ì´ ì—†ë‹¤ëŠ” ê±¸ í‘œí˜„í•˜ê¸° ìœ„í•œ í‚¤ì›Œë“œ?

- Nullì˜ ì •í™•í•œ ì˜ë¯¸

  > í¬ì¸í„°??
  >
  > - Cì–¸ì–´ì—ì„œëŠ” `í¬ì¸í„°` ë¼ëŠ” ê²ƒì´ ìƒì„±ëœ ë©”ëª¨ë¦¬ì˜ ì£¼ì†Œë¥¼ ê°€ë¦¬í‚¤ê²Œ ë˜ì–´ í¬ì¸í„°ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.
  > - ì¦‰, í¬ì¸í„°ëŠ” ë©”ëª¨ë¦¬ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì£¼ì†Œë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜ì´ë‹¤.
  > - í¬ì¸í„° ë³€ìˆ˜ë¥¼ ì„ ì–¸ ë° ì´ˆê¸°í™”ë¥¼ í•œ ë²ˆì— ì§„í–‰í•˜ì§€ ì•Šê³  ì„ ì–¸ë§Œ í•œë‹¤ë©´?
  >   - ì›ë˜ ë©”ëª¨ë¦¬ ì£¼ì†Œê°’ì´ ë“¤ì–´ì™€ì•¼ í•˜ì§€ë§Œ ì´ˆê¸°í™”ë¥¼ ì•ˆí•  ê²½ìš° ì£¼ì†Œì˜ ë¬´(ç„¡)ê°’ì„ í‘œí˜„í•´ì•¼ í•œë‹¤.
  > - **ì¦‰, NULLì€ ì£¼ì†Œê°’ì´ ì—†ëŠ” ê²ƒ (ì•„ë¬´ê²ƒë„ ê°€ë¦¬í‚¤ê³  ìˆì§€ ì•Šë‹¤ëŠ” ê²ƒ)**

  ìë°”ì—ë„ í¬ì¸í„° ê°œë…ì´ ìˆë‹¤.

  - í•˜ì§€ë§Œ ê°œë°œ í¸ì˜ì„±ì„ ìœ„í•´ ì² ì €íˆ ìˆ¨ê²¨ì§„ ìƒíƒœì´ë‹¤.
  - ì‚¬ì‹¤ **ìë°”ì˜ ì°¸ì¡°í˜• ë³€ìˆ˜ê°€ ëª¨ë‘ í¬ì¸í„° ë³€ìˆ˜ì¸ ì…ˆ**

<br/>

---

- Null ê°œë…ì„ ê³ ì•ˆí•œ í† ë‹ˆ í˜¸ì–´

  ![Null ê°œë…ì„ ê³ ì•ˆí•œ í† ë‹ˆ í˜¸ì–´](img/20240524_1.png)

  ê·¸ëŠ” í•œ ì†Œí”„íŠ¸ì›¨ì–´ ì»¨í¼ëŸ°ìŠ¤ì—ì„œ ìì‹ ì˜ null ì°¸ì¡° ë°œëª…ì„ â€œ10ì–µ ë‹¬ëŸ¬ì˜ ì‹¤ìˆ˜â€ë¼ê³  í‘œí˜„í•˜ë©° null ì°¸ì¡°ë¥¼ ë§Œë“  ê²ƒì„ í›„íšŒí•œë‹¤ê³  í† ë¡œí–ˆë‹¤.
  ë‹¨ìˆœíˆ ì—†ëŠ” ê°’ì„ í‘œí˜„í•˜ê¸° ìœ„í•œ null ì°¸ì¡° ê°œë…ì´ ì´ë¡œ ì¸í•´ ì»´íŒŒì¼ ë° ì¶©ëŒì„ ì¼ìœ¼í‚¤ëŠ” ë“± í”¼í•´ê°€ ë§‰ëŒ€í–ˆê¸° ë•Œë¬¸ì´ë‹¤.

---

<br/>

- **NullPointerException (NPE)**

  ~~ìë°” ê°œë°œìë“¤ì´ ê°€ì¥ ê³¨ì¹˜ì•„í”„ê²Œ ê²ªëŠ” 1ë“± ê³µì‹ ~~

  ìë°”ì—ì„œ nullì€ ê°ì²´ê°€ ì°¸ì¡°ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•ŠìŒì„ ë‚˜íƒ€ë‚¸ë‹¤.  
  ë§Œì¼ ê°ì²´ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ì†ì„±ì— ì ‘ê·¼í•˜ë ¤ê³  í•  ë•Œ, ê·¸ ê°ì²´ê°€ nullì´ë©´ `NullPointerException`ì´ ë°œìƒí•˜ëŠ” ê²ƒ

  <details>
    <summary>NullPointerException ë°œìƒ ì˜ˆì‹œ</summary>

      ```java
      class Person {
          private Phone phone;
          private String name;

          Person(String name) {
              this.name = name; // name ì´ˆê¸°í™”
          }

          public Phone getPhone() {
              return this.phone;
          }
      }

      class Phone {
          private OS os;

          public OS getOS() {
              return this.os;
          }
      }

      class OS {
          public String printOS() {
              return "Android";
          }
      }

      public class Main {
          public static void main(String[] args) {
              Person p = new Person("í™ê¸¸ë™");

              p.getPhone().getOS().printOS();
          }
      }
      ```

      - `p.getPhone()`ì˜ ë°˜í™˜ê°’ì´ nullì´ê¸° ë•Œë¬¸ì— `null.getOS()` ë©”ì„œë“œê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤.

      ```java
      Exception in thread "main" java.lang.NullPointerException: Cannot invoke "exception.Phone.getOS()" because the return value of "exception.Person.getPhone()" is null
        at exception.Main.main(Main.java:34)
      ```

    </details>

    <br/>

  - â“Â NPEê°€ ìœ ë… ê³¨ì¹˜ì•„í”ˆ ì´ìœ 

    NullPointerExceptionì€ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ì¸ **ëŸ°íƒ€ì„ ìƒí™©ì—ì„œ ë°œìƒ**í•œë‹¤.

    â†’ ì»´íŒŒì¼ ì‹œì ì—ì„œ ë¯¸ë¦¬ ì•Œ ìˆ˜ ìˆìœ¼ë©´ ì˜ˆë°©í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ë ‡ì§€ ì•Šìœ¼ë‹ˆ ìë°” ê°œë°œìì—ê²Œ NPEëŠ” ì½”ë“œ ë² ì´ìŠ¤ ê³³ê³³ì— ê¹”ë ¤ìˆëŠ” ì§€ë¢°ê°™ì€ ë…€ì„ì´ë‹¤.

  - **ğŸ’¡Â ì²˜ë¦¬ ë°©ë²•**

    1. **null ì²´í¬**

       ê°ì²´ê°€ nullì¸ì§€ í™•ì¸í•œë‹¤.

       ```java
       public class Main {
           public static void main(String[] args) {
             Person p = new Person("í™ê¸¸ë™");

             if (p.getPhone() != null && p.getPhone().getOS() != null) {
                 System.out.println(p.getPhone().getOS().printOS());
             } else {
                 System.out.println("Phone or OS is null");
             }
           }
         }
       }
       ```

       <br/>

    2. **ì‚¼í•­ ì—°ì‚°ì ì‚¬ìš©**

       ```java
       public class Main {
           public static void main(String[] args) {
               Person p = new Person("í™ê¸¸ë™");

               String osName = (p.getPhone() != null && p.getPhone().getOS() != null) ? p.getPhone().getOS().printOS() : "Unknown OS";
               System.out.println(osName);
           }
       }
       ```

      <br/>

    > ğŸ’¡ ìœ„ì˜ ë°©ë²•ë“¤ì€ ë©”ì„œë“œê°€ ë§ì„ìˆ˜ë¡ ì½”ë“œê°€ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€ë˜ì–´ ê°€ë…ì„±ì´ ë§¤ìš° ì•ˆì¢‹ì•„ì§ˆ ìˆ˜ ìˆë‹¤.
    >
    > `Null Object Pattern(null ê°ì²´ íŒ¨í„´)`ì´ë¼ëŠ” ê°ì²´ ì§€í–¥ì„ ì‘ìš©í•œ íŒ¨í„´ë„ ìˆì§€ë§Œ, ìœ ì§€ë³´ìˆ˜ ì¸¡ë©´ì—ì„œ ì˜¤íˆë ¤ ë” ë³µì¡í•´ì§€ëŠ” ë‹¨ì ì´ ìˆë‹¤.

      <br/>

    3.  **(â­ï¸ìµœì‹  ë°©ë²•) Optional í´ë˜ìŠ¤ ì‚¬ìš©**

        Java8ì´ ë“±ì¥í•˜ë©´ì„œ ì¶”ê°€ëœ `java.util.Optional` í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.

        - `java.util.Optional` í´ë˜ìŠ¤ë€?
          - â€˜ì¡´ì¬í•  ìˆ˜ë„ ìˆì§€ë§Œ ì•ˆí•  ìˆ˜ë„ ìˆëŠ” ê°ì²´â€™, ì¦‰ â€˜nullì´ ë  ìˆ˜ë„ ìˆëŠ” ê°ì²´â€™ë¥¼ ê°ì‹¸ê³  ìˆëŠ” ì¼ì¢…ì˜ ì°¸ì¡° í´ë˜ìŠ¤ì´ë‹¤.

        ì´ë¡œì¨ nullì„ ì§ì ‘ ë‹¤ë£¨ì§€ ì•Šê³ , Optional ê°ì²´ë¥¼ í†µí•´ ê°’ì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

        ```java
        import java.util.Optional; // Optional í´ë˜ìŠ¤ ì‚¬ìš©í•˜ê¸° ìœ„í•´ import

        public class Main {
            public static void main(String[] args) {
                Person p = new Person("í™ê¸¸ë™");

                Optional.ofNullable(p)
                        .map(Person::getPhone)
                        .map(Phone::getOS)
                        .map(OS::printOS);
            }
        }
        ```

        - Optional ìƒì„±í•˜ê¸°

          - `Optional.of(T value)`: nullì´ ì•„ë‹Œ ê°’ì„ í¬í•¨í•˜ëŠ” Optional ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
            - ë§Œì•½ null ê°’ì´ ì „ë‹¬ë˜ë©´ NullPointerExceptionì´ ë°œìƒí•œë‹¤.
          - `Optional.ofNullable(T value)`: ì£¼ì–´ì§„ ê°’ì´ nullì¼ ìˆ˜ë„ ìˆëŠ” Optional ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
            - null ê°’ì´ ì „ë‹¬ë˜ë©´ ë¹ˆ Optional ê°ì²´ê°€ ìƒì„±ëœë‹¤.
          - `Optional.empty()`: ë¹ˆ Optional ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
            <details>
            <summary>ê° ë©”ì„œë“œ ì˜ˆì‹œ ë³´ê¸°</summary>

            ```java
            Optional<String> optionalValue = Optional.of("Hello");

            Optional<Integer> length = optionalValue.map(String::length);

            length.ifPresent(System.out::println); // ì¶œë ¥: 5
            ```

            </details>

        - ê°’ í™•ì¸ ë° ì ‘ê·¼

          - `isPresent()`: ê°’ì´ ì¡´ì¬í•˜ë©´ true, ì—†ìœ¼ë©´ falseë¥¼ ë°˜í™˜í•œë‹¤.
          - `ifPresent(Consumer<? super T> action)`: ê°’ì´ ì¡´ì¬í•˜ë©´ ì£¼ì–´ì§„ ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤.
          - `orElse(T other)`: ê°’ì´ ì¡´ì¬í•˜ë©´ ê·¸ ê°’ì„ ë°˜í™˜í•˜ê³ , ì—†ìœ¼ë©´ ëŒ€ì²´ ê°’ì„ ë°˜í™˜í•œë‹¤.
          - `orElseGet(Supplier<? extends T> other)`: ê°’ì´ ì¡´ì¬í•˜ë©´ ê·¸ ê°’ì„ ë°˜í™˜í•˜ê³ , ì—†ìœ¼ë©´ ëŒ€ì²´ ê°’ì„ ì œê³µí•˜ëŠ” ê³µê¸‰ìë¥¼ í˜¸ì¶œí•˜ì—¬ ë°˜í™˜í•œë‹¤.
          - `orElseThrow(Supplier<? extends X> exceptionSupplier)`: ê°’ì´ ì¡´ì¬í•˜ë©´ ê·¸ ê°’ì„ ë°˜í™˜í•˜ê³ , ì—†ìœ¼ë©´ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.
            <details>
            <summary>ê° ë©”ì„œë“œ ì˜ˆì‹œ ë³´ê¸°</summary>

            ```java
            Optional<String> optionalValue = Optional.of("Hello");

            // ê°’ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
            if (optionalValue.isPresent()) {
                System.out.println(optionalValue.get());
            }

            // ê°’ì´ ì¡´ì¬í•  ë•Œ íŠ¹ì • ë™ì‘ ìˆ˜í–‰
            optionalValue.ifPresent(value -> System.out.println(value));

            // ê°’ì´ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ ê¸°ë³¸ê°’ ë°˜í™˜
            String defaultValue = optionalValue.orElse("Default Value");
            System.out.println(defaultValue);

            // ê°’ì´ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ ê¸°ë³¸ê°’ ì œê³µ
            String value = optionalValue.orElseGet(() -> "Generated Value");
            System.out.println(value);

            // ê°’ì´ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ ì˜ˆì™¸ ë°œìƒ
            try {
                String mandatoryValue = optionalValue.orElseThrow(() -> new IllegalArgumentException("Value is required"));
                System.out.println(mandatoryValue);
            } catch (IllegalArgumentException e) {
                System.out.println(e.getMessage());
            }
            ```

            </details>

        - ê°’ ë³€í™˜

          - `map(Function<? super T, ? extends U> mapper)`: ê°’ì´ ì¡´ì¬í•˜ë©´ ì£¼ì–´ì§„ ë§¤í•‘ í•¨ìˆ˜ë¥¼ ì ìš©í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ í¬í•¨í•˜ëŠ” Optional ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
          - `flatMap(Function<? super T, Optional<U>> mapper)`: ê°’ì´ ì¡´ì¬í•˜ë©´ ì£¼ì–´ì§„ ë§¤í•‘ í•¨ìˆ˜ë¥¼ ì ìš©í•˜ê³ , ê·¸ ê²°ê³¼ Optionalì„ ë°˜í™˜í•œë‹¤.
            <details>
            <summary>ê° ë©”ì„œë“œ ì˜ˆì‹œ ë³´ê¸°</summary>

            ```java
            Optional<String> optionalValue = Optional.of("Hello");

            // ê°’ì„ ë³€í™˜
            Optional<Integer> length = optionalValue.map(String::length);
            System.out.println(length.orElse(0)); // ì¶œë ¥: 5

            // ê°’ì„ ë³€í™˜í•˜ì—¬ Optional ë°˜í™˜
            Optional<String> upperCaseValue = optionalValue.flatMap(value -> Optional.of(value.toUpperCase()));
            upperCaseValue.ifPresent(System.out::println); // ì¶œë ¥: HELLO
            ```

            </details>

<br/>

### ğŸ”¥ ì˜¤ëŠ˜ì˜ ë„ì „ ê³¼ì œì™€ í•´ê²° ë°©ë²•

#### ìƒì† ê´€ê³„ì˜ ê°ì²´ ì‚¬ìš© ì´í•´í•˜ê¸°

- ìƒí™©  
  ìƒŒë“œìœ„ì¹˜ ë°°ë‹¬ ì£¼ë¬¸ í”„ë¡œê·¸ë¨ ê°œë°œì—ì„œ, ìƒëŸ¬ë“œ í† í•‘ì„ ì„ íƒí•˜ëŠ” ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ê³ ì í–ˆë‹¤. `Salad`ì˜ ìì‹í´ë˜ìŠ¤ì¸ `SaladTopping` í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©ì ì…ë ¥ì„ ë°›ìœ¼ë©´(í† í•‘ ì„ íƒ), `Salad` í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ `Salad` ê°ì²´ì— í† í•‘ ì •ë³´ë¥¼ ì¶”ê°€í•˜ê³ ì í–ˆë‹¤.  
  ê·¼ë° `SaladTopping`ì˜ `selectedToppings`, `selectedToppingPrice` í•„ë“œëŠ” ì˜ ì—…ë°ì´íŠ¸ê°€ ë˜ì—ˆëŠ”ë°, superë¡œ ì—…ë°ì´íŠ¸í•˜ê³ ì í–ˆë˜ `Salad`ì˜ `toppings`, `price` í•„ë“œëŠ” ì—…ë°ì´íŠ¸ê°€ ë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.

  ```java
   public void addTopping(String name, int price) {
        super.toppings.add(name);
        super.price += price;
    }
  ```

- ë°œìƒ ì´ìœ 

  `SaladTopping` í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë©´, `Salad` í´ë˜ìŠ¤ì˜ toppings í•„ë“œì™€ëŠ” **ë³„ê°œì˜ `toppings` í•„ë“œê°€ ìƒì„±ëœë‹¤.**  
  â†’ `SaladTopping` í´ë˜ìŠ¤ì—ì„œ `super.toppings`ë¥¼ ì—…ë°ì´íŠ¸í•˜ë”ë¼ë„, ì´ëŠ” SaladTopping ì¸ìŠ¤í„´ìŠ¤ì˜ `toppings` í•„ë“œë§Œ ì—…ë°ì´íŠ¸í•˜ë©°, `Salad` í´ë˜ìŠ¤ì˜ `toppings` í•„ë“œëŠ” ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠëŠ”ë‹¤.

  ë”°ë¼ì„œ `Salad` í´ë˜ìŠ¤ì—ì„œ `SaladTopping` í´ë˜ìŠ¤ì˜ `getTopping` ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ `SaladTopping` í´ë˜ìŠ¤ì˜ `toppings` í•„ë“œë¥¼ ê°€ì ¸ì™€ì„œ ë°˜ì˜í•´ì•¼ í•œë‹¤.

- ë°©ë²•

  `SaladTopping.java`

  ```java
  private final List<String> selectedToppings = new ArrayList<>();
  private int selectedToppingPrice;

  public void addTopping(String name, int price) {
    selectedToppings.add(name);
    selectedToppingPrice += price;
  }

  public void selectSaladTopping() {
      // ==== ìƒëµ ====

      if (!selectedNumList.isEmpty()) {
          for (int selectedNum : selectedNumList) {
              String selectedType = (String) toppingTypes.keySet().toArray()[selectedNum - 1];
              this.addTopping(selectedType, toppingTypes.get(selectedType));
          }
      }
  }

  public List<String> getTopping() {
      return selectedToppings;
  }

  public int getTotalPrice() {
      return selectedToppingPrice;
  }
  ```

  `Salad.java`

  ```java
  public void addTopping(List<String> toppings, int price) {
        this.toppings = toppings;
        this.price += price;
  }

  SaladTopping topping = new SaladTopping();

  public void askForTopping() {
      // === ìƒëµ ===

      topping.selectSaladTopping();
      addTopping(topping.getTopping(), topping.getTotalPrice());
  }
  ```

<br/>

### ğŸ¤” ì˜¤ëŠ˜ì˜ íšŒê³ 

- ìŠ¤í¬ëŸ¼ ì¤‘ ì™„ë£Œí•œ ì‘ì—…: `Java Null`ì— ëŒ€í•œ ê°œë… í•™ìŠµ
- nullì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì¡°ê±´ë¬¸ì´ë‚˜ ì‚¼í•­ ì—°ì‚°ìë§Œ ì•Œê³  ìˆì—ˆëŠ”ë°, Optional í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œê²Œ ë˜ì—ˆë‹¤.
- Optional í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ nullì„ ì§ì ‘ ë‹¤ë£¨ì§€ ì•Šê³ , ê°’ì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
- ë‹¤ìŒ í”„ë¡œì íŠ¸ì—ì„œëŠ” Optional í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ null ì²˜ë¦¬ë¥¼ í•´ë³´ê³  ì‹¶ë‹¤.

<br/>

### ì°¸ê³  ìë£Œ ë° ë§í¬

- [â˜• ê°œë°œìë“¤ì„ ê´´ë¡­íˆëŠ” ìë°” NULL íŒŒí—¤ì¹˜ê¸°](https://inpa.tistory.com/entry/JAVA-â˜•-ê°œë°œìë“¤ì„-ê´´ë¡­íˆëŠ”-NULL-íŒŒí—¤ì¹˜ê¸°)
- [ìë°”ì—ì„œ Optional í´ë˜ìŠ¤ ì‚¬ìš©í•˜ê¸°: ì•ˆì „í•œ null ì²˜ë¦¬ ë°©ë²•](https://f-lab.kr/insight/using-java-optional?gad_source=1&gclid=CjwKCAjw9cCyBhBzEiwAJTUWNVy3xbhgj9o6qcjx5KEMn-U11MTFKEBYRqmZxSBO80wh_tzLZ4TkBBoCREAQAvD_BwE)
