#### λ‚ μ§: 2024-06-05

<br/>

### π¤οΈ μ¤ν¬λΌ

-   ν•™μµ λ©ν‘ 1 : IoC, DI κ°λ… μ΄ν•΄ν•κΈ°

<br/>

### β΅οΈ μƒλ΅ λ°°μ΄ λ‚΄μ©

#### [Spring] IoC

Inversion of Control, μ μ–΄μ μ—­μ „

-   κ°μ²΄μ μƒμ„±κ³Ό μƒλ…μ£ΌκΈ° κ΄€λ¦¬λ¥Ό κ°λ°μκ°€ μ•„λ‹ ν”„λ μ„μ›ν¬κ°€ λ‹΄λ‹Ήν•λ” κ²ƒ
-   μ½”λ“μ **κ²°ν•©λ„λ¥Ό λ‚®μ¶”κ³ ,** μ μ§€λ³΄μμ„±μ„ λ†’μΈλ‹¤.

    -   κ°λ°μλ” λΉ„μ¦λ‹μ¤ λ΅μ§ κµ¬ν„μ— μ§‘μ¤‘ν•  μ μκ³ , κ°μ²΄ μƒμ„±κ³Ό κ΄€λ¦¬μ λ³µμ΅μ„±μ—μ„ λ²—μ–΄λ‚  μ μκΈ° λ•λ¬Έμ΄λ‹¤.

-   μμ΅΄ κ΄€κ³„κ°€ λμ¨ν•΄μ Έ λ³€κ²½μ— **μ μ—°ν•κ² λ€μ‘** ν•  μ μλ‹¤.
-   μΈν„°νμ΄μ¤ κΈ°λ°μΌλ΅ κ°λ°ν•μ—¬ **μ½”λ“ μ¬μ‚¬μ©μ„±μ„ λ†’μΌ μ μλ‹¤.**

<br/>

-   μ‚¬μ© λ°©λ²•

    -   `@Component`, `@Service`, `@Repository`, `@Controller` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λΉμΌλ΅ λ“±λ΅ν•λ‹¤.

-   μμ‹

    -   β μ§μ ‘ κ°μ²΄ μƒμ„±

        ```java
        public class MemberService {
            // μ§μ ‘ μμ΅΄μ„± μƒμ„±
            private MemberRepository memberRepository = new MemberRepositoryImpl();

            public void register(Member member) {
                memberRepository.save(member);
            }
        }
        ```

        ![before](img/20240604_1.png)

        -   `MemberService`κ°€ `MemberRepsitory`λ¥Ό μ§μ ‘ μƒμ„±ν•κ³  μ‚¬μ©ν•λ‹¤.

    -   β­•οΈ IoC μ»¨ν…μ΄λ„ μ‚¬μ©

        ```java
        public class MemberService {
          // μΈν„°νμ΄μ¤ νƒ€μ…μΌλ΅ μμ΅΄μ„± μ„ μ–Έ
          private MemberRepository memberRepository;

          // μƒμ„±μλ¥Ό ν†µν•΄ μμ΅΄μ„± μ£Όμ… λ° DI λ°μƒ
          public MemberService(MemberRepository memberRepository) {
              this.memberRepository = memberRepository;
          }

          public void register(Member member) {
              memberRepository.save(member);
          }
        }
        ```

        ![after](img/20240604_2.png)

        -   `MemberService`λ” `MemberRepository` μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ‹¤.
        -   `Spring Container`κ°€ `MemberRepository` κµ¬ν„μ²΄λ¥Ό μƒμ„±ν•κ³ , `MemberService`μ— μ£Όμ…ν•λ‹¤.

<br/>

#### [Spring] DI

Dependency Injection, μμ΅΄μ„± μ£Όμ…

-   μ§μ ‘ μμ΅΄ κ°μ²΄λ¥Ό μƒμ„±ν•κ±°λ‚ κ΄€λ¦¬ν•μ§€ μ•κ³ , μ™Έλ¶€μ—μ„ μ£Όμ…λ°›μ•„ μ‚¬μ©ν•λ” κ²ƒ
-   **IoCλ¥Ό κµ¬ν„ν•λ” λ°©λ²• μ¤‘ ν•λ‚μ΄λ‹¤.**
-   `@Autowired` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μμ΅΄μ„±μ„ μ£Όμ…ν•λ‹¤.

-   μμ‹

    ```java

    // UserService.java
    @Service
    public class UserServiceImpl implements UserService {
        private final UserRepository userRepository;
        private final PostService postService;

        // μ΄κ² λμ΄λ‹¤.
        @Autowired
        public UserService(UserRepository userRepository, PostService postService) {
            this.userRepository = userRepository; // μ¤ν”„λ§μ΄ UserRepositoryImpl ν΄λμ¤λ¥Ό μ£Όμ…ν•΄μ¤€λ‹¤.
            this.postService = postService; // μ¤ν”„λ§μ΄ PostServiceImpl ν΄λμ¤λ¥Ό μ£Όμ…ν•΄μ¤€λ‹¤.
        }
        // ... some code~~~~
    }

    // UserRepository.java
    @Repository
    public interface UserRepository {
      void findById(int id);
      // some code.. ~~
    }

    // UserService.java
    public interface UserService {
      // ... some code ~~~
    }

    // PostService
    public interface PostService {
      // ... some code ~~~
    }

    // PostServiceImpl
    @Service
    public class PostServiceImpl implements PostService {
        // .. do something!
    }

    ```

<br/>

#### [Spring] IoC/DI μ»¨ν…μ΄λ„

IoC/DIλ¥Ό κµ¬ν„ν• μ»¨ν…μ΄λ„

-   μ• ν”λ¦¬μΌ€μ΄μ…μ κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , μ΄λ“¤ κ°„μ μμ΅΄μ„±μ„ κ΄€λ¦¬ν•λ‹¤.
-   κ°λ°μλ” XML, μ–΄λ…Έν…μ΄μ…, μλ°” μ„¤μ • νμΌ λ“±μ„ ν†µν•΄ κ°μ²΄μ μƒμ„±κ³Ό μμ΅΄μ„±μ„ μ„¤μ •ν•  μ μλ‹¤.
-   μ»¨ν…μ΄λ„λ” `ApplicationContext` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• λ‹¤μ–‘ν• λ°©μ‹μΌλ΅ μ κ³µλλ©°, κ°λ°μλ” μƒν™©μ— λ§λ” κµ¬ν„μ²΄λ¥Ό μ„ νƒν•  μ μλ‹¤.

<br/>

### ~~π”¥ μ¤λμ λ„μ „ κ³Όμ μ™€ ν•΄κ²° λ°©λ²•~~

<br/>

### π¤” μ¤λμ νκ³ 

-   μ¤ν¬λΌ μ¤‘ μ™„λ£ν• μ‘μ—…: `IoC, DI κ°λ… μ΄ν•΄ν•κΈ°`
-   IoCμ™€ DIμ μ½”λ“ μμ‹λ¥Ό λ³΄λ©° μ–΄λ–»κ² ν™μ©ν•΄μ•Ό ν•λ”μ§€ μ΄ν•΄ν–λ‹¤.
-   μ§μ ‘ μ‚¬μ©ν•΄λ³΄λ©΄μ„ κ°μ„ μµν€μ•Ό ν•  κ²ƒ κ°™λ‹¤.

<br/>

### μ°Έκ³  μλ£ λ° λ§ν¬

-   [IoC/DI μ»¨ν…μ΄λ„μ μ΄ν•΄](https://f-lab.kr/insight/understanding-spring-framework-and-ioc-di-container?gad_source=1&gclid=Cj0KCQjwj9-zBhDyARIsAERjds3wx4P67oHB0NDRiSeK2mkOBih0zbRNWIuaqxYIDffekaXauozF6kQaAgAREALw_wcB)
-   μμ—… κµμ¬
